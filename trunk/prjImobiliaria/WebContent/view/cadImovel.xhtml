<html xmlns="http://www.w3.org/1999/xhtml"  
    xmlns:ui="http://java.sun.com/jsf/facelets"  
    xmlns:h="http://java.sun.com/jsf/html"  
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:p="http://primefaces.org/ui" > 
<h:head>
	<title>Cadastro de Imóvel</title>	
</h:head>

 <h:body>
 <p:growl id="avisos" showDetail="true" life="3000" />
 
 <h:form enctype="multipart/form-data">
 	<table>
 		<tr>
 			<td><h:outputLabel value="Nome:"/></td>
 			<td><h:inputText value="#{imovelMB.nome}" required="true" 
 				requiredMessage="Preencha o campo Nome do Imóvel!" /></td>
 		</tr>
		<tr>
			<td><h:outputLabel value="Cliente"/></td>
			<td><h:selectOneMenu value="#{imovelMB.idCliente}">
            		<f:selectItems value="#{imovelMB.listaCliente}" />
				</h:selectOneMenu> 
			</td>
		</tr>
		
		<tr>
			<td><h:outputLabel value="Funcionário"/></td>
			<td><h:selectOneMenu value="#{imovelMB.idFuncionario}">
            		<f:selectItems value="#{imovelMB.listaFuncionario}" />
				</h:selectOneMenu> 
			</td>
		</tr>
		
		<tr>
			<td><h:outputLabel value="Tipo de Imóvel"/></td>
			<td><h:selectOneMenu value="#{imovelMB.idTipoImovel}">
            		<f:selectItems value="#{imovelMB.listaTipoImovel}" />
				</h:selectOneMenu> 
			</td>
		</tr>
		
		<tr>
			<td><h:outputLabel value="Situação"/></td>
			<td><h:selectOneMenu value="#{imovelMB.situacao}">
            		<f:selectItems itemvalue="0" itemLabel="Planta" />
            		<f:selectItems itemvalue="1" itemLabel="Novo" />
            		<f:selectItems itemvalue="2" itemLabel="Usado" />
				</h:selectOneMenu> 
			</td>
		</tr>
		
		<!--  
	private String foto_capa; 
 	*/-->
 	
 		<tr>
 			<td><h:outputLabel value="Valor:"/></td>
 			<td><h:inputText value="#{imovelMB.valor}" required="true" 
 				requiredMessage="Preencha o campo Valor do Imóvel!"/></td>
 		</tr>	
 		
 		<tr>
 			<td><h:outputLabel value="Descrição:"/></td>
 			<td><h:inputText value="#{imovelMB.descricao}" required="true" 
 				requiredMessage="Preencha o campo Descrição do Imóvel!"/></td>
 		</tr>	
 		
 		<tr>
 			<td>
 				<p:fileUpload fileUploadListener="#{imovelMB.handleFileUpload}"  
            	mode="advanced"  
            	update="messages"  
            	auto="true"  
            	sizeLimit="100000"    
            	allowTypes="/(\.|\/)(gif|jpe?g|png)$/"/>  
  
    			<p:growl id="messages" showDetail="true"/>  
 			</td>
 		</tr>	
		
		<tr>		    
			<td><h:commandButton action="#{imovelMB.save}" value="Gravar" class="btn btn-primary"/><br/></td> 
		</tr>
		<tr>
	   		<td><h:messages id="msgErro" style="color: red"></h:messages></td>
			<td><h:outputText value="#{imovelMB.msgAviso}" /></td>
		</tr>
	</table> 
 			
</h:form>
</h:body>
</html>
